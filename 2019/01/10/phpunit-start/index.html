<!DOCTYPE html><html lang="jo"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>PHPUnit 1부 - 유닛 테스트를 시작 해보자 | JunHyuk's Dev Note</title><link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/atom-one-dark.css"><link rel="canonical" href="http://njhyuk.github.io/2019/01/10/phpunit-start/">
<meta name="description" content="어플리케이션은 매우 방대하게 이루어져 있습니다.보기에는 간단한 기능을 추가 하더라도, 사용자 테스트를 진행하게 된다면 사용자는 개발자가 예상한 사용자의 접근 플로우와는 다르게 전혀 예상치 못한 방법으로 접근 하게 되고 오류가 발생하기…">
<meta name="keywords" content="back-end, developer">
<meta property="og:type" content="article">
<meta property="og:title" content="PHPUnit 1부 - 유닛 테스트를 시작 해보자">
<meta property="og:url" content="http://njhyuk.github.io/2019/01/10/phpunit-start/">
<meta property="og:site_name" content="JunHyuk&#39;s Dev Note">
<meta property="og:description" content="어플리케이션은 매우 방대하게 이루어져 있습니다.보기에는 간단한 기능을 추가 하더라도, 사용자 테스트를 진행하게 된다면 사용자는 개발자가 예상한 사용자의 접근 플로우와는 다르게 전혀 예상치 못한 방법으로 접근 하게 되고 오류가 발생하기…">
<meta property="og:locale" content="jo">
<meta property="og:image" content="http://njhyuk.github.io/2019/01/10/phpunit-start/logo.png">
<meta property="og:updated_time" content="2019-08-05T13:36:48.686Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHPUnit 1부 - 유닛 테스트를 시작 해보자">
<meta name="twitter:description" content="어플리케이션은 매우 방대하게 이루어져 있습니다.보기에는 간단한 기능을 추가 하더라도, 사용자 테스트를 진행하게 된다면 사용자는 개발자가 예상한 사용자의 접근 플로우와는 다르게 전혀 예상치 못한 방법으로 접근 하게 되고 오류가 발생하기…">
<meta name="twitter:image" content="http://njhyuk.github.io/2019/01/10/phpunit-start/logo.png"><meta property="article:author" content="노준혁"><meta property="twitter:label1" content="Published at"><meta property="twitter:data1" content="2019-01-10 14:28:52"><meta property="twitter:label2" content="Written by"><meta property="twitter:data2" content="노준혁"><link rel="icon" href="/images/logo.png"><link rel="alternate" href="/atom.xml" type="application/atom+xml" title="JunHyuk's Dev Note"></head><body itemscope itemtype="https://schema.org/WebPage"><nav class="menu" id="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a class="menu__item__link menu__item__link--brand" href="/" title="Home" rel="home"><img class="menu__item__link--brand__image" src="/images/logo.png" alt="JunHyuk's Dev Note"><span class="menu__item__link--brand__label">JunHyuk's Dev Note</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a class="menu__item__link" href="/">Home</a></div><div class="menu__item"><a class="menu__item__link" href="/archives">Archives</a></div></div></div></nav><div class="page-background"></div><div class="content-container"><div class="content-outer"><div class="content-inner" itemscope itemtype="https://schema.org/Blog"><article class="article" id="article" itemscope itemtype="https://schema.org/BlogPosting"><h1 class="article__title" itemprop="headline">PHPUnit 1부 - 유닛 테스트를 시작 해보자</h1><div class="article__meta"><time class="article__meta__time" datetime="2019-01-10T05:28:52.478Z" itemprop="datePublished">2019-01-10 14:28:52</time></div><hr><div class="article__contents"><img src="/2019/01/10/phpunit-start/logo.png" title="source : https://codeburst.io/writing-php-unit-testing-friendly-code-5ef9a8a49da1">
<p>어플리케이션은 매우 방대하게 이루어져 있습니다.<br>보기에는 간단한 기능을 추가 하더라도, 사용자 테스트를 진행하게 된다면 사용자는 개발자가 예상한 사용자의 접근 플로우와는 다르게 전혀 예상치 못한 방법으로 접근 하게 되고 오류가 발생하기 마련입니다.<br>이러한 문제를 해결하기 위해 오늘은 유닛 테스트에 대해 알아봅시다.</p>
<h2 id="유닛-테스트"><a href="#유닛-테스트" class="headerlink" title="유닛 테스트"></a>유닛 테스트</h2><p>위키 백과 에서는 유닛테스트를 다음과 같이 설명하고 있습니다.</p>
<blockquote>
<p>유닛 테스트(unit test)는 컴퓨터 프로그래밍에서 소스 코드의 특정 모듈이 의도된 대로 정확히 작동하는지 검증하는 절차다.<br>즉, 모든 함수와 메소드에 대한 테스트 케이스(Test case)를 작성하는 절차를 말한다.<br>이를 통해서 언제라도 코드 변경으로 인해 문제가 발생할 경우, 단시간 내에 이를 파악하고 바로 잡을 수 있도록 해준다. 이상적으로, 각 테스트 케이스는 서로 분리되어야 한다.<br>이를 위해 가짜 객체(Mock object)를 생성하는 것도 좋은 방법이다.<br>유닛 테스트는 (일반적인 테스트와 달리) 개발자(developer) 뿐만 아니라 보다 더 심도있는 테스트를 위해 테스터(tester)에 의해 수행되기도 한다.<br>쉽게 얘기해서 기능을 추가할때마다 작성한 유닛 테스트를 통해, 추가한 기능이 기존 기능들에 영향을 미쳐 오류가 발생하고 있는지 자동으로 테스트 할 수 있는 것입니다.</p>
</blockquote>
<h2 id="시작하기"><a href="#시작하기" class="headerlink" title="시작하기"></a>시작하기</h2><p>예제로 php의 phpunit을 활용하여 Laravel 프레임워크의 예제로 시작 해 봅시다.<br>우선적으로 phpunit 설치가 준비되어야 합니다.</p>
<h2 id="테스트-케이스-생성"><a href="#테스트-케이스-생성" class="headerlink" title="테스트 케이스 생성"></a>테스트 케이스 생성</h2><p>새로운 테스트 케이스를 생성하려면 make:test 아티즌 명령어를 입력 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:test UserTest</span><br></pre></td></tr></table></figure>
<h2 id="코드-작성"><a href="#코드-작성" class="headerlink" title="코드 작성"></a>코드 작성</h2><p>명령어로 생성된 클래스에, 성공하는 케이스를 작성 해 보겠습니다.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Tests</span>\<span class="title">Feature</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Tests</span>\<span class="title">TestCase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">WithoutMiddleware</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">DatabaseMigrations</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">DatabaseTransactions</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserTest</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A basic test example.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testExample</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertTrue(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="실행"><a href="#실행" class="headerlink" title="실행"></a>실행</h2><p>다음의 명령어를 통해 작성한 케이스를 실행 할 수 있습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vendor/bin/phpunit --bootstrap vendor/autoload.php Tests/Feature/UserTest</span><br></pre></td></tr></table></figure>
<h2 id="테스트-결과"><a href="#테스트-결과" class="headerlink" title="테스트 결과"></a>테스트 결과</h2><p>테스트에 성공하면 다음과 같은 결과를 반환합니다.</p>
<img src="/2019/01/10/phpunit-start/success.png" title="[success]">
<p>그렇다면 테스트에 실패하면 어떻게 표현될까요? 다음과 같이 실패한 코드와 결과가 화면에 출력됩니다.</p>
<img src="/2019/01/10/phpunit-start/fail.png" title="[fail]">
<h2 id="마지막으로"><a href="#마지막으로" class="headerlink" title="마지막으로.."></a>마지막으로..</h2><p>오늘은 간단한 예제를 통해 단위테스트의 개념과 테스트 케이스를 생성하고 실행하는 법에 대해 알아보았습니다. 실제로 활용하기에 오늘의 내용으로는 아직 부족하지만, 소프트웨어 테스트를 위한 자동화에 대해 고민해 보게 된 시간 이였으면 좋겠습니다.<br>다음에 기회가 되면 phpunit의 기능에 대해 상세하게 알아보도록 하겠습니다.<br>감사합니다.</p>
</div><div class="article__author" itemscope itemprop="author" itemtype="https://schema.org/Person"><img class="article__author__image" src="/images/avatar.jpg" alt="노준혁"><a class="article__author__link" title="About 노준혁" rel="author">노준혁</a><p class="article__author__desc">Software Engineer</p><div class="article__author__socials"><a class="article__author__socials__item" href="/atom.xml" title="rss" target="_blank"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="노준혁"></div><div class="sharer" id="sharer"><div class="sharer-inner"><div class="sharer__right"><button class="sharer__item" id="sharer-facebook"><i class="fa fa-facebook-official"></i></button><button class="sharer__item" id="sharer-twitter"><i class="fa fa-twitter"></i></button><button class="sharer__item" id="sharer-pinterest"><i class="fa fa-pinterest"></i></button><button class="sharer__item" id="sharer-pocket"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2019-08-05T13:36:48.686Z"><meta itemprop="articleBody" content="
어플리케이션은 매우 방대하게 이루어져 있습니다.보기에는 간단한 기능을 추가 하더라도, 사용자 테스트를 진행하게 된다면 사용자는 개발자가 예상한 사용자의 접근 플로우와는 다르게 전혀 예상치 못한 방법으로 접근 하게 되고 오류가 발생하기 마련입니다.이러한 문제를 해결하기 위해 오늘은 유닛 테스트에 대해 알아봅시다.
유닛 테스트위키 백과 에서는..."><meta itemprop="url" content="http://njhyuk.github.io/2019/01/10/phpunit-start/"><meta itemprop="mainEntityOfPage" content="http://njhyuk.github.io/2019/01/10/phpunit-start/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="JunHyuk's Dev Note"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="http://njhyuk.github.io/images/logo.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="http://njhyuk.github.io/images/default.jpg"><meta itemprop="url" content="http://njhyuk.github.io/images/default.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article></div></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2019/05/24/Why-should-I-specify-an-enctype-in-a-form/">Form 파일전송을 위해 enctype을 왜 지정해야 할까?</a></li><li class="recent-posts__item"><a href="/2019/01/10/phpunit-methods/">PHPUnit 2부 - 메소드 알아보기</a></li><li class="recent-posts__item"><a href="/2019/01/10/phpunit-start/">PHPUnit 1부 - 유닛 테스트를 시작 해보자</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Archives</h3><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">2</span></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3></div></div></div><p class="copyright"><small>© 2019 노준혁<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><script src="/js/sharer.min.js"></script></body></html>